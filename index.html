<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <input id="input" type="text" />
    <button id="submit">Submit</button>
    <div id="output"></div>
    
    <script>
      function sendMessage() {
        const message = $('#input').val();

        $.post('/api/chat', { message })
         .done(response => {
           const text = response.text;

           $('#output').append(`<div><strong>You:</strong> ${message}</div>`);
           $('#output').append(`<div><strong>Chatbot:</strong> ${text}</div>`);

           $('#input').val('');
         })
         .fail(() => alert('An error occurred'));
      }

      $('#submit').on('click', sendMessage);
    </script>
  </body>
</html>
